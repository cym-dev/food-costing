<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Food Costing Analytics</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="dashboard.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
          <i class="fas fa-utensils"></i> Food Costing Pro
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">
                <i class="fas fa-calculator"></i> Calculator
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="dashboard.html">
                <i class="fas fa-chart-line"></i> Dashboard
              </a>
            </li>
          </ul>
          <span class="navbar-text">
            <i class="fas fa-clock"></i> <span id="currentTime"></span>
          </span>
        </div>
      </div>
    </nav>

    <div class="container-fluid mt-3">
      <!-- Overview Cards -->
      <div class="row mb-4">
        <div class="col-md-3">
          <div class="card stat-card bg-primary text-white">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <div>
                  <h6 class="card-title">Total Recipes</h6>
                  <h3 id="totalRecipes">0</h3>
                </div>
                <div class="stat-icon">
                  <i class="fas fa-book"></i>
                </div>
              </div>
              <small class="opacity-75">
                <i class="fas fa-arrow-up"></i>
                <span id="recipeGrowth">0%</span> from last month
              </small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card stat-card bg-success text-white">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <div>
                  <h6 class="card-title">Avg Profit Margin</h6>
                  <h3 id="avgProfitMargin">0%</h3>
                </div>
                <div class="stat-icon">
                  <i class="fas fa-percentage"></i>
                </div>
              </div>
              <small class="opacity-75">
                <i class="fas fa-arrow-up"></i>
                <span id="profitGrowth">0%</span> improvement
              </small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card stat-card bg-info text-white">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <div>
                  <h6 class="card-title">Avg Food Cost %</h6>
                  <h3 id="avgFoodCost">0%</h3>
                </div>
                <div class="stat-icon">
                  <i class="fas fa-chart-pie"></i>
                </div>
              </div>
              <small class="opacity-75">
                <i class="fas fa-arrow-down"></i>
                <span id="foodCostChange">0%</span> optimization
              </small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card stat-card bg-warning text-white">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <div>
                  <h6 class="card-title">Revenue Potential</h6>
                  <h3 id="revenueProjection">â‚±0</h3>
                </div>
                <div class="stat-icon">
                  <i class="fas fa-money-bill-wave"></i>
                </div>
              </div>
              <small class="opacity-75">
                <i class="fas fa-info-circle"></i>
                Monthly projection
              </small>
            </div>
          </div>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="row mb-4">
        <div class="col-lg-8">
          <div class="card">
            <div
              class="card-header d-flex justify-content-between align-items-center"
            >
              <h5><i class="fas fa-chart-line"></i> Profitability Trends</h5>
              <div class="btn-group btn-group-sm" role="group">
                <input
                  type="radio"
                  class="btn-check"
                  name="timeRange"
                  id="week"
                  autocomplete="off"
                  checked
                />
                <label class="btn btn-outline-primary" for="week">Week</label>
                <input
                  type="radio"
                  class="btn-check"
                  name="timeRange"
                  id="month"
                  autocomplete="off"
                />
                <label class="btn btn-outline-primary" for="month">Month</label>
                <input
                  type="radio"
                  class="btn-check"
                  name="timeRange"
                  id="year"
                  autocomplete="off"
                />
                <label class="btn btn-outline-primary" for="year">Year</label>
              </div>
            </div>
            <div class="card-body">
              <canvas id="profitabilityChart" height="100"></canvas>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-chart-doughnut"></i> Recipe Categories</h5>
            </div>
            <div class="card-body">
              <canvas id="categoryChart"></canvas>
              <div id="categoryLegend" class="mt-3"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recipe Performance & Marketing Insights -->
      <div class="row mb-4">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-trophy"></i> Top Performing Recipes</h5>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead class="table-light">
                    <tr>
                      <th>Recipe</th>
                      <th>Profit Margin</th>
                      <th>Food Cost %</th>
                      <th>Potential</th>
                    </tr>
                  </thead>
                  <tbody id="topRecipesTable">
                    <!-- Data will be populated here -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header">
              <h5>
                <i class="fas fa-exclamation-triangle"></i> Recipes Needing
                Attention
              </h5>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead class="table-light">
                    <tr>
                      <th>Recipe</th>
                      <th>Issue</th>
                      <th>Impact</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody id="attentionRecipesTable">
                    <!-- Data will be populated here -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Marketing & Sales Strategy Section -->
      <div class="row mb-4">
        <div class="col-lg-8">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-bullhorn"></i> Marketing Recommendations</h5>
            </div>
            <div class="card-body">
              <div id="marketingRecommendations">
                <!-- Marketing insights will be populated here -->
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-calculator"></i> Pricing Simulator</h5>
            </div>
            <div class="card-body">
              <div class="mb-3">
                <label for="simulatorRecipe" class="form-label"
                  >Select Recipe</label
                >
                <select class="form-select" id="simulatorRecipe">
                  <option value="">Choose recipe...</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="targetMargin" class="form-label"
                  >Target Profit Margin (%)</label
                >
                <input
                  type="range"
                  class="form-range"
                  id="targetMargin"
                  min="20"
                  max="80"
                  value="50"
                />
                <div class="d-flex justify-content-between">
                  <span>20%</span>
                  <span id="targetMarginValue">50%</span>
                  <span>80%</span>
                </div>
              </div>
              <div class="alert alert-info">
                <strong>Recommended Price:</strong><br />
                <span id="recommendedPrice" class="h4">â‚±0.00</span>
              </div>
              <div class="mt-3">
                <h6>Market Positioning:</h6>
                <div id="marketPositioning"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Competitive Analysis & Cost Optimization -->
      <div class="row mb-4">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-balance-scale"></i> Competitive Analysis</h5>
            </div>
            <div class="card-body">
              <div class="mb-3">
                <label for="competitorPrice" class="form-label"
                  >Competitor Average Price</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="competitorPrice"
                  step="0.01"
                  placeholder="Enter competitor price"
                />
              </div>
              <div class="mb-3">
                <label for="marketSegment" class="form-label"
                  >Market Segment</label
                >
                <select class="form-select" id="marketSegment">
                  <option value="budget">Budget (Mass Market)</option>
                  <option value="mid">Mid-Range</option>
                  <option value="premium">Premium</option>
                  <option value="luxury">Luxury</option>
                </select>
              </div>
              <div id="competitiveInsights"></div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-cogs"></i> Cost Optimization</h5>
            </div>
            <div class="card-body">
              <div id="optimizationSuggestions">
                <!-- Cost optimization suggestions will be populated here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sales Forecasting -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5>
                <i class="fas fa-chart-bar"></i> Sales Forecasting & Scenarios
              </h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-4">
                  <h6>Sales Volume Projections</h6>
                  <div class="mb-3">
                    <label for="dailySales" class="form-label"
                      >Expected Daily Sales (units)</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dailySales"
                      value="50"
                      onchange="calculateForecasts()"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="seasonalFactor" class="form-label"
                      >Seasonal Factor</label
                    >
                    <select
                      class="form-select"
                      id="seasonalFactor"
                      onchange="calculateForecasts()"
                    >
                      <option value="0.8">Low Season (-20%)</option>
                      <option value="1" selected>Normal Season</option>
                      <option value="1.3">Peak Season (+30%)</option>
                      <option value="1.5">Holiday Season (+50%)</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-8">
                  <canvas id="forecastChart" height="80"></canvas>
                </div>
              </div>
              <div class="row mt-4">
                <div class="col-md-3">
                  <div class="bg-light p-3 rounded text-center">
                    <h6 class="text-muted">Daily Revenue</h6>
                    <h4 class="text-primary" id="dailyRevenue">â‚±0</h4>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="bg-light p-3 rounded text-center">
                    <h6 class="text-muted">Weekly Revenue</h6>
                    <h4 class="text-success" id="weeklyRevenue">â‚±0</h4>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="bg-light p-3 rounded text-center">
                    <h6 class="text-muted">Monthly Revenue</h6>
                    <h4 class="text-info" id="monthlyRevenue">â‚±0</h4>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="bg-light p-3 rounded text-center">
                    <h6 class="text-muted">Annual Revenue</h6>
                    <h4 class="text-warning" id="annualRevenue">â‚±0</h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Center -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5><i class="fas fa-tasks"></i> Action Center</h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <h6><i class="fas fa-rocket"></i> Quick Actions</h6>
                  <div class="d-grid gap-2">
                    <button class="btn btn-primary" onclick="generateReport()">
                      <i class="fas fa-file-alt"></i> Generate Full Report
                    </button>
                    <button class="btn btn-success" onclick="exportDashboard()">
                      <i class="fas fa-download"></i> Export Dashboard Data
                    </button>
                    <button class="btn btn-info" onclick="shareInsights()">
                      <i class="fas fa-share"></i> Share Key Insights
                    </button>
                  </div>
                </div>
                <div class="col-md-6">
                  <h6><i class="fas fa-bell"></i> Smart Alerts</h6>
                  <div id="smartAlerts">
                    <!-- Smart alerts will be populated here -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="dashboard.js"></script>
  </body>
</html>
